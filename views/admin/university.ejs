<!DOCTYPE html>
<html lang="en">
<%- include('includes/head.ejs') %>

   <body>
      <%- include('includes/nav') %>
         <%- include('partials/breadcrumb') %>
            <!-- Add University Modal -->
            <form method="post" enctype="multipart/form-data">
               <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                  aria-hidden="true">
                  <div class="modal-dialog modal-lg">
                     <div class="modal-content">
                        <div class="modal-header">
                           <h1 class="modal-title fs-5" id="exampleModalLabel">
                              Add University
                           </h1>
                           <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">

                           <div class="form-floating mb-3">
                              <input type="shortname" name="shortname" class="form-control" id="floatingInput"
                                 placeholder="shortname">
                              <label for="floatingInput">University Shortname</label>
                           </div>

                           <div class="form-floating mb-3">
                              <input type="name" name="name" class="form-control" id="floatingInput" placeholder="name">
                              <label for="floatingInput">University Name</label>
                           </div>

                           <div class="form-floating mb-3">
                              <input type="description" name="desc" class="form-control" id="floatingInput"
                                 placeholder="description">
                              <label for="floatingInput">University Description</label>
                           </div>

                           <div class="form-floating mb-3">
                              <input type="tag" name="tags" class="form-control" id="floatingInput" placeholder="tags">
                              <label for="floatingInput">University Tags</label>
                           </div>

                           <div class="form-group">
                              <label for="imgFile" class="col-form-label">Upload University Logo</label>
                              <input name="pdf" type="file" class="form-control" id="imgFile" />
                           </div>
                        </div>
                        <div class="modal-footer">
                           <button type="submit" class="btn btn-primary">
                              Save
                           </button>
                        </div>
                     </div>
                  </div>
               </div>
            </form>

            <!-- Information About Universities -->
            <% var index=0; %>
               <% for( let University of Query ) { %>
                  <% index++ %>
                     <div class="container" style="margin-bottom: 0.5rem">
                        <div class="accordion accordion-flush shadow-sm bg-light rounded" id="accordionFlushExample"
                           style="margin-bottom: 0.5rem">
                           <div class="accordion-item">
                              <h2 class="accordion-header">
                                 <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#flush-<%=index%>" aria-expanded="false"
                                    aria-controls="flush-collapseOne">
                                    # <%= University.name %>
                                 </button>
                              </h2>

                              <div id="flush-<%=index%>" class="accordion-collapse collapse"
                                 data-bs-parent="#accordionFlushExample">
                                 <div class="accordion-body">
                                    <div class="table-responsive-lg">
                                       <table class="table">
                                          <tr>
                                             <thead>
                                                <th class="col">University Name</th>
                                                <th class="col">University Shortname</th>
                                                <th class="col">University Desc</th>
                                                <th class="col">University Tags</th>
                                             </thead>
                                          </tr>
                                          <tr>
                                             <td>
                                                <%= University.name %>
                                             </td>
                                             <td>
                                                <%= University.shortname %>
                                             </td>
                                             <td><a href="" data-bs-toggle="modal"
                                                   data-bs-target="#desc">View</a>

                                                <!-- Modal -->
                                                <div class="modal fade" id="desc" tabindex="-1"
                                                   aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                   <div class="modal-dialog">
                                                      <div class="modal-content">
                                                         <div class="modal-header">
                                                            <h5 class="modal-title" id="exampleModalLabel">Description
                                                            </h5>
                                                            <button type="button" class="btn-close"
                                                               data-bs-dismiss="modal" aria-label="Close"></button>
                                                         </div>
                                                         <div class="modal-body">
                                                            <%= University.desc %>
                                                         </div>
                                                         <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary"
                                                               data-bs-dismiss="modal">Close</button>
                                                            <button type="button" class="btn btn-primary">Save
                                                               changes</button>
                                                         </div>
                                                      </div>
                                                   </div>
                                                </div>
                                             </td>

                                             <td><a href="" data-bs-toggle="modal"
                                                data-bs-target="#tags">View</a>

                                             <!-- Modal -->
                                             <div class="modal fade" id="tags" tabindex="-1"
                                                aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog">
                                                   <div class="modal-content">
                                                      <div class="modal-header">
                                                         <h5 class="modal-title" id="exampleModalLabel">Tags Related To University
                                                         </h5>
                                                         <button type="button" class="btn-close"
                                                            data-bs-dismiss="modal" aria-label="Close"></button>
                                                      </div>
                                                      <div class="modal-body">
                                                         <%= University.tags %>
                                                      </div>
                                                      <div class="modal-footer">
                                                         <button type="button" class="btn btn-secondary"
                                                            data-bs-dismiss="modal">Close</button>
                                                         <button type="button" class="btn btn-primary">Save
                                                            changes</button>
                                                      </div>
                                                   </div>
                                                </div>
                                             </div>
                                          </td>
                                          </tr>
                                       </table>
                                    </div>
                                    <div class="row py-3">
                                       <div class="d-flex col justify-content-end">
                                          <a href="/close/<%= University.shortname %>/<%= University.id %>"><button
                                                class="btn btn-sm btn-outline-primary me-2 ">Next</button></a>
                                          <form
                                             action="/close/university/<%= University.id %>/<%= University.imgName %>?_method=DELETE"
                                             method="post">
                                             <button type="submit"
                                                class="btn btn-sm btn-outline-danger ">Delete</button>
                                          </form>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     </div>
                     <% } %> <%- include('partials/script.ejs') %>
   </body>

</html>